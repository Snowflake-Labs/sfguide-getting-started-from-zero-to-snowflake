name: TASTY_BYTES_BUSINESS_ANALYTICS
description: |
  Semantic model for Tasty Bytes executive analytics, covering customer loyalty and order performance data for natural language querying
tables:
  - name: CUSTOMER_LOYALTY_METRICS_V
    synonyms:
      - Customers
      - customer_data
      - loyalty
      - customer_metrics
      - customer_info
    base_table:
      database: TB_101
      schema: SEMANTIC_LAYER
      table: CUSTOMER_LOYALTY_METRICS_V
    dimensions:
      - name: CITY
        synonyms:
          - town
          - municipality
          - metropolis
          - urban_area
          - location
          - geographical_area
          - settlement
          - urban_center
        description: The city where the customer is located.
        expr: CITY
        data_type: VARCHAR(16777216)
        sample_values:
          - Vancouver
          - New York City
          - Berlin
      - name: COUNTRY
        synonyms:
          - nation
          - land
          - territory
          - state
          - region
          - area
          - locale
          - homeland
        description: The country where the customer is located.
        expr: COUNTRY
        data_type: VARCHAR(16777216)
        sample_values:
          - Poland
          - Germany
          - Japan
      - name: CUSTOMER_ID
        synonyms:
          - customer_key
          - client_id
          - patron_id
          - account_holder_id
          - user_id
        description: Unique identifier for a customer in the loyalty program.
        expr: CUSTOMER_ID
        data_type: VARCHAR(134217728)
        sample_values:
          - '92890'
          - '31247'
          - '100458'
      - name: VISITED_LOCATION_IDS_ARRAY
        synonyms:
          - location_ids_visited
          - visited_location_ids_list
          - customer_location_history
          - location_id_array
          - visited_locations
          - location_ids_traveled
        description: Array of unique location IDs visited by a customer.
        expr: VISITED_LOCATION_IDS_ARRAY
        data_type: ARRAY
        sample_values:
          - |-
            [
              "10000",
              "10001",
              "10004",
              "10635",
              "10638",
              "11094",
              "11098",
              "11101",
              "11103",
              "11445",
              "11448",
              "12154",
              "6942",
              "7124",
              "7130",
              "7133",
              "7135",
              "7142",
              "7145",
              "7166",
              "7174",
              "7181",
              "7190",
              "7194",
              "7199",
              "7202",
              "7213",
              "7215",
              "7223",
              "7227",
              "7241",
              "7251",
              "7263",
              "7298",
              "7300",
              "7302",
              "7305",
              "7308",
              "7316",
              "7322",
              "7328",
              "7360",
              "7369",
              "7371",
              "7377",
              "7379",
              "7381",
              "7388",
              "7391",
              "7392",
              "9093",
              "9103",
              "9107",
              "9113",
              "9119",
              "9123",
              "9139",
              "9142",
              "9148",
              "9153",
              "9156",
              "9160",
              "9990",
              "9991",
              "9994"
            ]
          - |-
            [
              "10195",
              "10211",
              "10214",
              "10215",
              "10231",
              "10232",
              "10767",
              "10771",
              "10775",
              "11203",
              "11210",
              "11513",
              "11771",
              "11777",
              "11993",
              "11998",
              "12210",
              "12404",
              "12569",
              "12948",
              "13173",
              "14012",
              "14380",
              "4512",
              "4523",
              "4533",
              "4534",
              "4546",
              "4571",
              "4579",
              "4582",
              "4589",
              "4596",
              "4599",
              "4600",
              "4601",
              "4615",
              "4619",
              "4621",
              "4623",
              "4633",
              "4634",
              "4636",
              "4638",
              "4648",
              "4650",
              "8059",
              "8061",
              "8074",
              "8082",
              "8083",
              "8084",
              "8091",
              "8100",
              "8101",
              "8108",
              "8117",
              "8128",
              "8137",
              "8139",
              "8142",
              "8145",
              "9409",
              "9424",
              "9428",
              "9430",
              "9433",
              "9440",
              "9453"
            ]
          - |-
            [
              "10429",
              "10432",
              "10915",
              "10919",
              "10921",
              "10926",
              "10931",
              "11311",
              "11312",
              "11321",
              "11602",
              "11607",
              "11613",
              "12067",
              "12072",
              "12275",
              "12455",
              "12605",
              "13101",
              "13103",
              "13498",
              "13789",
              "13943",
              "14204",
              "14313",
              "14330",
              "15516",
              "5393",
              "5411",
              "5438",
              "5445",
              "5448",
              "5461",
              "5484",
              "5486",
              "5490",
              "5500",
              "5533",
              "5547",
              "5550",
              "5560",
              "5563",
              "5567",
              "8483",
              "8489",
              "8496",
              "8507",
              "8540",
              "9668",
              "9673",
              "9705"
            ]
    facts:
      - name: TOTAL_SALES
        synonyms:
          - total_revenue
          - overall_sales
          - total_orders_value
          - total_revenue_generated
          - aggregate_sales_amount
          - total_customer_expenditure
        description: The total sales amount generated by each customer.
        expr: TOTAL_SALES
        data_type: NUMBER(38,4)
        access_modifier: public_access
        sample_values:
          - '8263.0000'
          - '8648.2500'
          - '6734.0000'
    primary_key:
      columns:
        - CUSTOMER_ID
  - name: ORDERS_V
    synonyms:
      - Orders
      - transactions
      - sales
      - purchases
      - order_data
    base_table:
      database: TB_101
      schema: SEMANTIC_LAYER
      table: ORDERS_V
    dimensions:
      - name: COUNTRY
        synonyms:
          - nation
          - land
          - territory
          - state
          - region
          - area
          - locale
          - nationality
        description: The country where the order was placed.
        expr: COUNTRY
        data_type: VARCHAR(16777216)
        sample_values:
          - England
          - United States
          - India
      - name: CUSTOMER_ID
        synonyms:
          - client_id
          - customer_number
          - client_number
          - account_id
          - user_id
          - patron_id
          - buyer_id
        description: Unique identifier for the customer who placed the order.
        expr: CUSTOMER_ID
        data_type: VARCHAR(134217728)
        sample_values:
          - '103412'
          - '104945'
          - '99502'
      - name: FRANCHISE_ID
        synonyms:
          - franchise_code
          - franchise_number
          - outlet_id
          - store_id
          - chain_id
          - affiliate_id
          - partner_id
        description: Unique identifier for the franchise that the order was placed through.
        expr: FRANCHISE_ID
        data_type: VARCHAR(134217728)
        sample_values:
          - '299'
          - '137'
          - '272'
      - name: GENDER
        synonyms:
          - sex
          - male_female
          - demographic
          - biological_sex
          - personal_gender
        description: The gender of the customer who placed the order.
        expr: GENDER
        data_type: VARCHAR(16777216)
        sample_values:
          - Male
          - Female
      - name: LOCATION_ID
        synonyms:
          - store_id
          - site_id
          - venue_id
          - outlet_id
          - branch_id
          - facility_id
          - premises_id
        description: Unique identifier for the location where the order was placed or fulfilled.
        expr: LOCATION_ID
        data_type: VARCHAR(134217728)
        sample_values:
          - '8158'
          - '5245'
          - '10868'
      - name: MARITAL_STATUS
        synonyms:
          - marital_state
          - relationship_status
          - civil_status
          - family_status
          - personal_status
        description: The marital status of the customer who placed the order.
        expr: MARITAL_STATUS
        data_type: VARCHAR(16777216)
        sample_values:
          - Undisclosed
          - Married
      - name: MENU_ITEM_ID
        synonyms:
          - item_id
          - product_id
          - menu_code
          - item_code
          - product_code
          - dish_id
        description: Unique identifier for a specific menu item ordered.
        expr: MENU_ITEM_ID
        data_type: VARCHAR(134217728)
        sample_values:
          - '81'
          - '42'
          - '114'
      - name: MENU_ITEM_NAME
        synonyms:
          - item_name
          - menu_item
          - product_name
          - dish_name
          - food_item
          - menu_description
        description: The name of the menu item ordered by the customer.
        expr: MENU_ITEM_NAME
        data_type: VARCHAR(16777216)
        sample_values:
          - Two Meat Plate
          - Tonkotsu Ramen
          - Lean Chicken Tikka Masala
      - name: MENU_TYPE
        synonyms:
          - menu_category
          - food_type
          - dish_type
          - cuisine
          - menu_classification
          - food_classification
        description: Type of menu item ordered, such as Ice Cream, Ramen, or BBQ.
        expr: MENU_TYPE
        data_type: VARCHAR(16777216)
        sample_values:
          - Ice Cream
          - Ramen
          - BBQ
      - name: ORDER_DETAIL_ID
        synonyms:
          - order_line_id
          - order_item_id
          - order_component_id
          - detail_id
          - order_component_number
          - order_line_number
        description: Unique identifier for each order detail record, used to distinguish individual items within an order.
        expr: ORDER_DETAIL_ID
        data_type: VARCHAR(134217728)
        sample_values:
          - '76011116'
          - '76016390'
          - '76025921'
      - name: ORDER_ID
        synonyms:
          - order_number
          - purchase_id
          - transaction_id
          - order_reference
          - invoice_number
          - purchase_order_number
        description: Unique identifier for each order placed in the system.
        expr: ORDER_ID
        data_type: VARCHAR(134217728)
        sample_values:
          - '46937872'
          - '46960867'
          - '97713514'
      - name: PRIMARY_CITY
        synonyms:
          - main_city
          - primary_town
          - city
          - hometown
          - main_town
          - hometown_name
          - primary_location
          - main_location
        description: The city where the order was primarily fulfilled or originated from.
        expr: PRIMARY_CITY
        data_type: VARCHAR(16777216)
        sample_values:
          - London
          - Rio de Janeiro
          - San Mateo
      - name: REGION
        synonyms:
          - area
          - territory
          - zone
          - district
          - province
          - state
          - county
          - locality
          - geographic_area
        description: Geographic region where the order was placed.
        expr: REGION
        data_type: VARCHAR(16777216)
        sample_values:
          - Mazowieckie województwo
          - Western Cape
          - Bavaria
      - name: TRUCK_BRAND_NAME
        synonyms:
          - truck_maker
          - vehicle_brand
          - lorry_manufacturer
          - truck_model_name
          - vehicle_make
          - brand_name
        description: The brand name of the truck that fulfilled the order.
        expr: TRUCK_BRAND_NAME
        data_type: VARCHAR(16777216)
        sample_values:
          - The Mega Melt
          - Le Coin des Crêpes
          - Guac n' Roll
      - name: TRUCK_ID
        synonyms:
          - vehicle_id
          - truck_number
          - vehicle_identifier
          - truck_identifier
          - lorry_id
          - transport_id
          - hauler_id
          - rig_id
        description: Unique identifier for the truck that transported the order.
        expr: TRUCK_ID
        data_type: VARCHAR(134217728)
        sample_values:
          - '293'
          - '278'
          - '400'
    time_dimensions:
      - name: ORDER_TS
        synonyms:
          - order_timestamp
          - order_creation_date
          - order_placement_date
          - order_submission_date
          - order_receipt_date
          - order_datetime
        description: Date on which the order was placed.
        expr: ORDER_TS
        data_type: DATE
        sample_values:
          - '2021-12-20'
          - '2022-05-03'
          - '2022-03-13'
    facts:
      - name: FRANCHISE_FLAG
        synonyms:
          - franchise_status
          - franchise_indicator
          - is_franchise
          - franchise_designation
          - franchise_marker
        description: Indicates whether the order is from a franchise location (1) or a company-owned location (0).
        expr: FRANCHISE_FLAG
        data_type: NUMBER(38,0)
        access_modifier: public_access
        sample_values:
          - '0'
          - '1'
      - name: ORDER_TOTAL
        synonyms:
          - order_amount
          - total_cost
          - total_order_value
          - order_value
          - total_price
          - order_price
          - total_amount_due
          - order_cost
        description: The total amount of the order, including all items and any applicable taxes or discounts.
        expr: ORDER_TOTAL
        data_type: NUMBER(38,4)
        access_modifier: public_access
        sample_values:
          - '708.0000'
          - '638.5000'
          - '657.2500'
      - name: QUANTITY
        synonyms:
          - amount
          - count
          - number
          - volume
          - total
          - units
          - items
          - stock
          - inventory
          - supply
        description: The quantity of items ordered.
        expr: QUANTITY
        data_type: NUMBER(5,0)
        access_modifier: public_access
        sample_values:
          - '1'
          - '7'
          - '19'
relationships:
  - name: ORDERS_TO_CUSTOMER_LOYALTY_METRICS
    left_table: ORDERS_V
    right_table: CUSTOMER_LOYALTY_METRICS_V
    relationship_columns:
      - left_column: CUSTOMER_ID
        right_column: CUSTOMER_ID
